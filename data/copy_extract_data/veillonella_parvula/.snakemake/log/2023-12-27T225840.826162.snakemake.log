Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 12
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	all
	1	finish
	1	gen_iso_db
	1	gen_refseq_db
	1	merge_flat_annotations
	1	merge_probes
	1	parse_genome
	1	parse_gtf
	1	split_chroms
	1	zip_iso_db
	1	zip_probes
	1	zip_refseq_db
	12

[Wed Dec 27 22:58:40 2023]
rule parse_genome:
    input: veillonella_parvula.fna
    output: pipeline_output/01_reference_files/01_chrom_names/chrom_names.txt, pipeline_output/01_reference_files/01_chrom_names/removed_unk.txt, pipeline_output/01_reference_files/01_chrom_names/removed_excl.txt, pipeline_output/01_reference_files/01_chrom_names/removed_rand.txt, pipeline_output/01_reference_files/01_chrom_names/removed_alt.txt, pipeline_output/01_reference_files/01_chrom_names/removed_hap.txt, pipeline_output/01_reference_files/01_chrom_names/removed_fix.txt, pipeline_output/01_reference_files/02_multi_fasta/veillonella_parvula.fa
    jobid: 11

Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
[Wed Dec 27 22:58:44 2023]
Finished job 11.
1 of 12 steps (8%) done

[Wed Dec 27 22:58:44 2023]
checkpoint split_chroms:
    input: pipeline_output/01_reference_files/02_multi_fasta/veillonella_parvula.fa, pipeline_output/01_reference_files/01_chrom_names/chrom_names.txt
    output: pipeline_output/01_reference_files/03_chrom_fastas
    jobid: 8
Downstream jobs will be updated after completion.

[Wed Dec 27 22:58:44 2023]
checkpoint parse_gtf:
    input: veillonella_parvula.gtf, pipeline_output/01_reference_files/01_chrom_names/chrom_names.txt
    output: pipeline_output/01_reference_files/05_annotation_files/veillonella_parvula.bed, pipeline_output/02_intermediate_files/01_chrom_gtf_dataframes
    jobid: 9
Downstream jobs will be updated after completion.

Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
Updating job 5 (merge_probes).
Updating job 6 (gen_refseq_db).
Updating job 7 (gen_iso_db).
[Wed Dec 27 22:58:47 2023]
Finished job 8.
2 of 25 steps (8%) done

[Wed Dec 27 22:58:47 2023]
rule design_probes:
    input: pipeline_output/01_reference_files/03_chrom_fastas/NZ_LT906445.1.fa, pipeline_output/01_reference_files/01_chrom_names/chrom_names.txt, pipeline_output/01_reference_files/01_chrom_names/removed_unk.txt, pipeline_output/01_reference_files/01_chrom_names/removed_excl.txt, pipeline_output/01_reference_files/01_chrom_names/removed_rand.txt, pipeline_output/01_reference_files/01_chrom_names/removed_alt.txt, pipeline_output/01_reference_files/01_chrom_names/removed_hap.txt, pipeline_output/01_reference_files/01_chrom_names/removed_fix.txt, pipeline_output/01_reference_files/02_multi_fasta/veillonella_parvula.fa
    output: pipeline_output/02_intermediate_files/02_init_probes/NZ_LT906445.1.fastq
    jobid: 26
    wildcards: chrom=NZ_LT906445.1


[Wed Dec 27 22:58:47 2023]
rule build_bowtie:
    input: pipeline_output/01_reference_files/02_multi_fasta/veillonella_parvula.fa
    output: pipeline_output/01_reference_files/06_bowtie2_indices/veillonella_parvula/veillonella_parvula.1.bt2, pipeline_output/01_reference_files/06_bowtie2_indices/veillonella_parvula/veillonella_parvula.2.bt2, pipeline_output/01_reference_files/06_bowtie2_indices/veillonella_parvula/veillonella_parvula.3.bt2, pipeline_output/01_reference_files/06_bowtie2_indices/veillonella_parvula/veillonella_parvula.4.bt2, pipeline_output/01_reference_files/06_bowtie2_indices/veillonella_parvula/veillonella_parvula.rev.1.bt2, pipeline_output/01_reference_files/06_bowtie2_indices/veillonella_parvula/veillonella_parvula.rev.2.bt2
    jobid: 27
    threads: 4


[Wed Dec 27 22:58:47 2023]
rule build_jellyfish:
    input: pipeline_output/01_reference_files/02_multi_fasta/veillonella_parvula.fa
    output: pipeline_output/01_reference_files/07_jf_files/veillonella_parvula.jf
    jobid: 19

Updating job 10 (merge_flat_annotations).
Updating job 13 (gen_refseq_db).
[Wed Dec 27 22:58:47 2023]
Finished job 9.
3 of 26 steps (12%) done

[Wed Dec 27 22:58:47 2023]
rule flatten_isoforms:
    input: pipeline_output/02_intermediate_files/01_chrom_gtf_dataframes/NZ_LT906445.1_filtered_gtf.dat, pipeline_output/01_reference_files/05_annotation_files/veillonella_parvula.bed, pipeline_output/02_intermediate_files/01_chrom_gtf_dataframes
    output: pipeline_output/01_reference_files/04_chrom_iso_flat_beds/NZ_LT906445.1_iso_flat.bed
    jobid: 30
    wildcards: chrom_gtf=NZ_LT906445.1

Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/dca8a186
Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
[Wed Dec 27 22:58:51 2023]
Finished job 27.
4 of 26 steps (15%) done
Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
[Wed Dec 27 22:58:53 2023]
Finished job 30.
5 of 26 steps (19%) done

[Wed Dec 27 22:58:53 2023]
rule merge_flat_annotations:
    input: pipeline_output/01_reference_files/04_chrom_iso_flat_beds/NZ_LT906445.1_iso_flat.bed
    output: pipeline_output/01_reference_files/05_annotation_files/veillonella_parvula_iso_flat.bed
    jobid: 29

Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
[Wed Dec 27 22:58:54 2023]
Finished job 29.
6 of 26 steps (23%) done
[Wed Dec 27 22:59:37 2023]
Finished job 19.
7 of 26 steps (27%) done
[Wed Dec 27 23:01:16 2023]
Finished job 26.
8 of 26 steps (31%) done

[Wed Dec 27 23:01:16 2023]
rule align_probes:
    input: pipeline_output/02_intermediate_files/02_init_probes/NZ_LT906445.1.fastq, pipeline_output/01_reference_files/06_bowtie2_indices/veillonella_parvula/veillonella_parvula.1.bt2, pipeline_output/01_reference_files/06_bowtie2_indices/veillonella_parvula/veillonella_parvula.2.bt2, pipeline_output/01_reference_files/06_bowtie2_indices/veillonella_parvula/veillonella_parvula.3.bt2, pipeline_output/01_reference_files/06_bowtie2_indices/veillonella_parvula/veillonella_parvula.4.bt2, pipeline_output/01_reference_files/06_bowtie2_indices/veillonella_parvula/veillonella_parvula.rev.1.bt2, pipeline_output/01_reference_files/06_bowtie2_indices/veillonella_parvula/veillonella_parvula.rev.2.bt2
    output: pipeline_output/02_intermediate_files/03_alignments/NZ_LT906445.1.bam
    jobid: 25
    wildcards: chrom=NZ_LT906445.1
    threads: 4

Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
[Wed Dec 27 23:01:18 2023]
Finished job 25.
9 of 26 steps (35%) done

[Wed Dec 27 23:01:18 2023]
rule extract_alignment_scores:
    input: pipeline_output/02_intermediate_files/03_alignments/NZ_LT906445.1.bam
    output: pipeline_output/02_intermediate_files/05_alignment_scores/NZ_LT906445.1_AS.txt
    jobid: 24
    wildcards: chrom=NZ_LT906445.1


[Wed Dec 27 23:01:18 2023]
rule sam_to_pairwise:
    input: pipeline_output/02_intermediate_files/03_alignments/NZ_LT906445.1.bam
    output: pipeline_output/02_intermediate_files/04_pairwise_alignments/NZ_LT906445.1_pairwise.out
    jobid: 23
    wildcards: chrom=NZ_LT906445.1

Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
[Wed Dec 27 23:01:20 2023]
Finished job 24.
10 of 26 steps (38%) done
[Wed Dec 27 23:01:20 2023]
Finished job 23.
11 of 26 steps (42%) done

[Wed Dec 27 23:01:20 2023]
rule parse_pairwise:
    input: pipeline_output/02_intermediate_files/04_pairwise_alignments/NZ_LT906445.1_pairwise.out, pipeline_output/02_intermediate_files/05_alignment_scores/NZ_LT906445.1_AS.txt
    output: pipeline_output/02_intermediate_files/06_data_frames/NZ_LT906445.1_alignments.csv
    jobid: 22
    wildcards: chrom=NZ_LT906445.1

Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
[Wed Dec 27 23:01:25 2023]
Finished job 22.
12 of 26 steps (46%) done

[Wed Dec 27 23:01:25 2023]
rule predict_duplex:
    input: pipeline_output/02_intermediate_files/06_data_frames/NZ_LT906445.1_alignments.csv, /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/workflow/pickled_models/42_all_fixed_xgb.pickle.dat
    output: pipeline_output/02_intermediate_files/07_predictions/NZ_LT906445.1_predictions.csv
    jobid: 21
    wildcards: chrom=NZ_LT906445.1

Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
[Wed Dec 27 23:01:29 2023]
Finished job 21.
13 of 26 steps (50%) done

[Wed Dec 27 23:01:29 2023]
rule score:
    input: pipeline_output/02_intermediate_files/07_predictions/NZ_LT906445.1_predictions.csv
    output: pipeline_output/02_intermediate_files/08_scored_probes/NZ_LT906445.1_probes.bed
    jobid: 20
    wildcards: chrom=NZ_LT906445.1

Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
[Wed Dec 27 23:01:34 2023]
Finished job 20.
14 of 26 steps (54%) done

[Wed Dec 27 23:01:34 2023]
rule filter_n_probes:
    input: pipeline_output/02_intermediate_files/08_scored_probes/NZ_LT906445.1_probes.bed
    output: pipeline_output/02_intermediate_files/09_probes_filtered/NZ_LT906445.1_probes.bed
    jobid: 18
    wildcards: chrom=NZ_LT906445.1

Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
[Wed Dec 27 23:01:35 2023]
Finished job 18.
15 of 26 steps (58%) done

[Wed Dec 27 23:01:35 2023]
rule calc_prob:
    input: pipeline_output/02_intermediate_files/09_probes_filtered/NZ_LT906445.1_probes.bed
    output: pipeline_output/02_intermediate_files/11_prob_values/NZ_LT906445.1_prob.txt
    jobid: 16
    wildcards: chrom=NZ_LT906445.1

[Wed Dec 27 23:01:35 2023]
rule max_kmer:
    input: pipeline_output/02_intermediate_files/09_probes_filtered/NZ_LT906445.1_probes.bed, pipeline_output/01_reference_files/07_jf_files/veillonella_parvula.jf
    output: pipeline_output/02_intermediate_files/10_max_kmer_counts/NZ_LT906445.1_kmer_max.txt
    jobid: 17
    wildcards: chrom=NZ_LT906445.1

Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
[Wed Dec 27 23:01:39 2023]
Finished job 17.
16 of 26 steps (62%) done
[Wed Dec 27 23:01:59 2023]
Finished job 16.
17 of 26 steps (65%) done

[Wed Dec 27 23:01:59 2023]
rule final_probes:
    input: pipeline_output/02_intermediate_files/11_prob_values/NZ_LT906445.1_prob.txt, pipeline_output/02_intermediate_files/10_max_kmer_counts/NZ_LT906445.1_kmer_max.txt
    output: pipeline_output/03_output_files/01_dna_probes/veillonella_parvula_all_newBalance_NZ_LT906445.1.tsv
    jobid: 15
    wildcards: chrom=NZ_LT906445.1

Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
[Wed Dec 27 23:02:02 2023]
Finished job 15.
18 of 26 steps (69%) done

[Wed Dec 27 23:02:02 2023]
rule gen_refseq_db:
    input: pipeline_output/03_output_files/01_dna_probes/veillonella_parvula_all_newBalance_NZ_LT906445.1.tsv, pipeline_output/01_reference_files/05_annotation_files/veillonella_parvula.bed
    output: pipeline_output/03_output_files/02_rna_probes_all/veillonella_parvula_refseq_newBalance.tsv
    jobid: 28

[Wed Dec 27 23:02:02 2023]
rule merge_probes:
    input: pipeline_output/03_output_files/01_dna_probes/veillonella_parvula_all_newBalance_NZ_LT906445.1.tsv
    output: pipeline_output/03_output_files/01_dna_probes/veillonella_parvula_all_newBalance.tsv
    jobid: 12


[Wed Dec 27 23:02:02 2023]
rule gen_iso_db:
    input: pipeline_output/03_output_files/01_dna_probes/veillonella_parvula_all_newBalance_NZ_LT906445.1.tsv, pipeline_output/01_reference_files/05_annotation_files/veillonella_parvula_iso_flat.bed
    output: pipeline_output/03_output_files/03_rna_probes_iso/veillonella_parvula_iso_newBalance.tsv
    jobid: 14

Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
[Wed Dec 27 23:02:04 2023]
Finished job 12.
19 of 26 steps (73%) done

[Wed Dec 27 23:02:04 2023]
rule zip_probes:
    input: pipeline_output/03_output_files/01_dna_probes/veillonella_parvula_all_newBalance.tsv
    output: pipeline_output/03_output_files/04_zip_archives/veillonella_parvula_all_newBalance.zip
    jobid: 2

Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
[Wed Dec 27 23:02:05 2023]
Finished job 2.
20 of 26 steps (77%) done
[Wed Dec 27 23:02:06 2023]
Finished job 14.
21 of 26 steps (81%) done

[Wed Dec 27 23:02:06 2023]
rule zip_iso_db:
    input: pipeline_output/03_output_files/03_rna_probes_iso/veillonella_parvula_iso_newBalance.tsv
    output: pipeline_output/03_output_files/04_zip_archives/veillonella_parvula_iso_newBalance.zip
    jobid: 4

[Wed Dec 27 23:02:06 2023]
Finished job 28.
22 of 26 steps (85%) done

[Wed Dec 27 23:02:06 2023]
rule zip_refseq_db:
    input: pipeline_output/03_output_files/02_rna_probes_all/veillonella_parvula_refseq_newBalance.tsv
    output: pipeline_output/03_output_files/04_zip_archives/veillonella_parvula_refseq_newBalance.zip
    jobid: 3

Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
Activating conda environment: /Users/hy/Documents/GitHub/thesis/PaintSHOP_pipeline/shared_conda_envs/6847ec1c
[Wed Dec 27 23:02:08 2023]
Finished job 4.
23 of 26 steps (88%) done
[Wed Dec 27 23:02:08 2023]
Finished job 3.
24 of 26 steps (92%) done

[Wed Dec 27 23:02:08 2023]
rule finish:
    input: pipeline_output/03_output_files/04_zip_archives/veillonella_parvula_all_newBalance.zip, pipeline_output/03_output_files/04_zip_archives/veillonella_parvula_refseq_newBalance.zip, pipeline_output/03_output_files/04_zip_archives/veillonella_parvula_iso_newBalance.zip
    output: pipeline_output/DONE.txt
    jobid: 1

[Wed Dec 27 23:02:08 2023]
Finished job 1.
25 of 26 steps (96%) done

[Wed Dec 27 23:02:08 2023]
localrule all:
    input: pipeline_output/DONE.txt
    jobid: 0

[Wed Dec 27 23:02:08 2023]
Finished job 0.
26 of 26 steps (100%) done
Complete log: /Users/hy/Documents/GitHub/thesis/data/copy_extract_data/veillonella_parvula/.snakemake/log/2023-12-27T225840.826162.snakemake.log
